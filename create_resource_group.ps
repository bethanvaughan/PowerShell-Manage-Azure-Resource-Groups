# Function to Create a Resource Group
function Create-ResourceGroup {
    param (
        [string]$ResourceGroupName,
        [string]$Location
    )

    if ($ResourceGroupName -eq null) {
        $ResourceGroupName = Read-Host "Enter the name of the new resource group you would like to create"
    }
    if ($Location -eq null) {
        $Location = Read-Host "Enter the Azure location you would like for the new resource group (e.g., uksouth)"
    }

    Write-Host "Creating your resource group '$ResourceGroupName' in location '$Location'..." -ForegroundColor Green

    # Check if the resource group already exists
    $existingRG = Get-AzResourceGroup -Name $ResourceGroupName -ErrorAction SilentlyContinue
    if ($existingRG-ne null) {
        Write-Host "The resource group '$ResourceGroupName' already exists. No action taken." -ForegroundColor Yellow
    } else {
        New-AzResourceGroup -Name $ResourceGroupName -Location $Location
        Write-Host "Resource group '$ResourceGroupName' has been created successfully!" -ForegroundColor Green
    }
}

# 'Main' function: menu-driven interactive interface for the scripts
function Main {
    while ($true) {
        Write-Host "`nSelect an operation:" -ForegroundColor Cyan
        Write-Host "1. Create a Resource Group" -ForegroundColor Cyan
        Write-Host "2. Update a Resource Group" -ForegroundColor Cyan
        Write-Host "3. Delete a Resource Group" -ForegroundColor Cyan
        Write-Host "4. Exit" -ForegroundColor Cyan

        $choice = Read-Host "Enter your choice (1-4)"
        switch ($choice) {
            1 { Create-ResourceGroup }
            2 { Update-ResourceGroup }
            3 { Delete-ResourceGroup }
            4 { break }
            default { Write-Host "Invalid choice. Please try again." -ForegroundColor Red }
        }
    }
}

# Run the main menu
Main



